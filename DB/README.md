# ConstructionFirm database 


##  Сущности
| №  | Сущность                | Описание                                                                                   |
|----|-------------------------|--------------------------------------------------------------------------------------------|
|  1 | department              | Строительное отделение                                                                     |
|  2 | site                    | Строительный участок                                                                       |
|  3 | object                  | Объект строительства                                                                       |
|  4 | object_type             | Тип объекта строительства (школа, жилой дом, больница, мост, дорога и т.п.)                |
|  5 | bridge_object           | Мост (подтип объекта строительства)                                                        |
|  6 | residential_object      | Жилое здание (подтип объекта строительства)                                                |
|  7 | road_object             | Дорога (подтип объекта строительства)                                                      |
|  8 | hospital_object         | Больница (подтип объекта строительства)                                                    |
|  9 | school_object           | Школа (подтип объекта строительства)                                                       |
| 10 | customer                | Заказчик (городская администрация, ведомства, частная фирма и т.п.)                        |
| 11 | employee                | Сотрудник организации                                                                      |
| 12 | worker                  | Рабочий                                                                                    |
| 13 | worker_type             | Тип рабочего (каменщик, водитель, бенонщик, отделочник, сварщик, электрик, слесарь и т.п.) |
| 14 | mason_worker            | Каменщик (подтип рабочего)                                                                 |
| 15 | electrician_worker      | Электрик (подтип рабочего)                                                                 |
| 16 | plumber_worker          | Сантехник (подтип рабочего)                                                                |
| 17 | finisher_worker         | Отделочник (подтип рабочего)                                                               |
| 18 | welder_worker           | Сварщик (подтип рабочего)                                                                  |
| 19 | driver_worker           | Водитель (подтип рабочего)                                                                 |
| 20 | concrete_worker         | Бетонщик (подтип рабочего)                                                                 |
| 21 | specialist              | Инженерно-технический персонал                                                             |
| 22 | specialist_type         | Тип инженерно-технического персонала (инженер, технолог, техник, и т.п.)                   |
| 23 | technician_specialist   | Техник (подтип инженерно-технического персонала)                                           |
| 24 | engineer_specialist     | Инженер (подтип инженерно-технического персонала)                                          |
| 25 | technologist_specialist | Технолог (подтип инженерно-технического персонала)                                         |
| 26 | brigade                 | Бригада рабочих                                                                            |
| 27 | work_schedule           | Расписание выполения работ бригадами                                                       |
| 28 | work_type               | Тип выполняемой работы (укладка кирпича, заливка бетона и т.п.)                            |
| 29 | material_supply         | Поставка материала для выполнения работы                                                   |
| 30 | material_type           | Тип поставляемого материала (бетон, кирпич и т.п.)                                         |
| 31 | department_supervisor   | Начальник строительного отделения                                                          |
| 32 | site_supervisor         | Начальник строительного участка                                                            |
| 33 | site_specialist         | Инженерно-технический персонал строительного участка                                       |
| 34 | brigade_worker          | Рабочие бригады                                                                            |
| 35 | brigadier               | Бригадир бригады                                                                           |
| 36 | site_machine            | Строительная техника строительного участка                                                 |
| 37 | machine                 | Строительная техника                                                                       |
| 38 | machine_model           | Модель строительной техники                                                                |
| 39 | machine_type            | Тип строительной техники (кран, грузовик и т.п.)                                           |

## Сущности и атрибуты
### **department**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| department_id   | ИД строительного отделения        |
| name            | Название строительного отделения  |

---

### **site**
| Атрибут         | Описание                                              |
|-----------------|-------------------------------------------------------|
| site_id         | ИД строительного участка                              |
| department_id   | Строительное отделение, к которому относится участок  |
| address         | Адрес                                                 |

---

### **object**
| Атрибут             | Описание                          |
|---------------------|-----------------------------------|
| object_id           | ИД объекта строительства         |
| name                | Название                         |
| object_type_id      | Тип                              |
| site_id             | Строительный участок объекта     |
| customer_id         | Заказчик объекта                 |
| planned_start_date  | Плановая дата начала             |
| planned_end_date    | Плановая дата конца              |
| actual_start_date   | Фактическая дата начала          |
| actual_end_date     | Фактическая дата конца           |

---

### **object_type**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| object_type_id  | ИД типа объекта строительства     |
| type            | Название типа                    |
| description     | Описание типа                    |

---

### **bridge_object**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| object_id       | Мост (один из подтипов объекта)   |
| length_m        | Длина                             |
| width_m         | Ширина                            |
| ...             | Свойства, характерные для данного подтипа|

---

### **customer**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| customer_id     | ИД заказчика                      |
| name            | Название                          |
| address         | Адрес                             |
| phone           | Телефон                           |
| email           | Адрес электронной почты           |

---

### **employee**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| employee_id     | ИД сотрудника                     |
| name            | Имя                               |
| surname         | Фамилия                           |
| middlename      | Отчество                          |
| phone           | Телефон                           |
| email           | Адрес электронной почты           |

---

### **worker**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| worker_id       | ИД рабочего                       |
| employee_id     | ИД сотрудника                     |
| worker_type_id  | Тип (квалификация) рабочего       |

---

### **worker_type**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| worker_type_id  | ИД типа рабочего                  |
| type            | Название (каменщик, отделочник и т.п.) |
| description     | Описание                          |

---

### **welder_worker**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| worker_id       | Сварщик (один из подтипов рабочего) |
| ...             | Свойства, характерные для данного подтипа|

---

### **specialist**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| specialist_id   | ИД инженерно-технического специалиста |
| employee_id     | ИД сотрудника                     |
| specialist_type_id | Тип (квалификация) специалиста    |

---

### **specialist_type**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| specialist_type_id | ИД типа инженерно-технического специалиста |
| type            | Название (инженер, технолог, техник и т.п.) |
| description     | Описание                          |

---

### **engineer_specialist**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| specialist_id   | Инженер (один из подтипов инженерно-технического персонала) |
| ...             | Свойства, характерные для данного подтипа|

---

### **brigade**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| brigade_id      | ИД бригады рабочих                |
| name            | Название                          |

---

### **work_schedule**
| Атрибут             | Описание                          |
|---------------------|-----------------------------------|
| work_schedule_id    | ИД проводимой работы              |
| object_id           | ИД объекта                        |
| work_type_id        | Тип работы                        |
| brigade_id          | ИД бригады                        |
| planned_start_date  | Плановая дата начала              |
| planned_end_date    | Плановая дата конца               |
| actual_start_date   | Фактическая дата начала           |
| actual_end_date     | Фактическая дата конца            |

---

### **work_type**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| work_type_id    | ИД типа выполняемой работы        |
| name            | Название (кладка кирпича, заливка бетона и т.п.) |
| description     | Описание                          |

---

### **material_supply**
| Атрибут             | Описание                          |
|---------------------|-----------------------------------|
| material_supply_id  | ИД поставки материала             |
| material_type_id    | Тип материала                     |
| work_schedule_id    | ИД проводимой работы              |
| planned_quantity    | Плановое количество               |
| actual_quantity     | Фактическое количество            |

---

### **material_type**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| material_type_id | ИД типа поставляемого материала   |
| name            | Название (бетон, кирпич и т.п.)   |
| description     | Описание                          |
| unit            | Мера измерения (кг, м² и т.п.)    |

---

### **department_supervisor**
| Атрибут             | Описание                          |
|---------------------|-----------------------------------|
| department_supervisor_id | ИД начальника строительного отделения |
| department_id       | ИД строительного отделения        |
| specialist_id       | ИД специалиста                    |
| start_date          | Дата вступления в должность       |
| end_date            | Дата увольнения                   |

---

### **site_supervisor**
| Атрибут             | Описание                          |
|---------------------|-----------------------------------|
| site_supervisor_id  | ИД начальника строительного участка |
| site_id             | ИД участка                        |
| specialist_id       | ИД специалиста                    |
| start_date          | Дата вступления в должность       |
| end_date            | Дата увольнения                   |

---

### **site_specialist**
| Атрибут             | Описание                          |
|---------------------|-----------------------------------|
| site_specialist_id  | ИД инженерно-технического персонала строительного участка |
| site_id             | ИД участка                        |
| specialist_id       | ИД специалиста                    |
| start_date          | Дата вступления в должность       |
| end_date            | Дата увольнения                   |

---

### **brigade_worker**
| Атрибут             | Описание                          |
|---------------------|-----------------------------------|
| brigade_worker_id   | ИД рабочего бригады               |
| brigade_id          | ИД бригады                        |
| worker_id           | ИД рабочего                       |
| start_date          | Дата вступления в должность       |
| end_date            | Дата увольнения                   |

---

### **brigadier**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| brigadier_id    | ИД бригадира бригады              |
| brigade_id      | ИД бригады                        |
| worker_id       | ИД рабочего                       |
| start_date      | Дата вступления в должность       |
| end_date        | Дата увольнения                   |

---

### **site_machine**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| site_machine_id | ИД техники строительного участка  |
| site_id         | ИД участка                        |
| machine_id      | ИД строительной техники           |
| start_date      | Дата назначения на участок        |
| end_date        | Дата отзыва с участка             |

---

### **machine**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| machine_id      | ИД строительной техники           |
| machine_model_id | ИД модели                        |
| department_id   | ИД строительного отделения        |
| production_year | Год выпуска                       |

---

### **machine_model**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| machine_model_id | ИД модели строительной техники   |
| model           | Название модели                   |
| machine_type_id | ИД типа строительной техники      |

---

### **machine_type**
| Атрибут         | Описание                          |
|-----------------|-----------------------------------|
| machine_type_id | ИД типа строительной техники      |
| type            | Название типа                     |
| description     | Описание                          |

## Сущности и связи
|  № |   Связанные сущности   |             Тип связи             |                                                                                      Описание                                                                                     |                         Свойства                         |
|:--:|:----------------------:|:---------------------------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:--------------------------------------------------------:|
| R1 | department-site        | 1:N | Строительное управление может строить объекты на нескольких участках У участка обязательно должно быть строительное управление.                                                    | нельзя удалить department пока есть связанные с ним site |
| R2 | site-object            | 1:N | На строительных участках может находиться несколько объектов. Объект должен обязательно иметь участок.                                                                             | нельзя удалить site пока есть связанные с ним object     |
| R3 | object-work_schedule   | 1:N | Список работ на объекте. Работа должна обязательно относиться к какому-либо объекту.                                                                                               | каскадное удаление work_schedule                         |
| R4 | work_schedule-brigade  | N:1 | Бригада, выполняющая работу. Бригада может выполнять несколько работ. Работу выполняет одна бригада. Бригада может быть назначена на работу позднее, поэтому связь необязятельна. | нельзя удалить бригаду пока есть связанные с ней работы  |
| R5 | brigade-brigadier      | 1:N | У бригады обязательно выбирается бригадир. Один рабочий может быть бригадиром разных бригад в разное время.                                                                       | каскадное удаление brigadier                             |
| R6 | brigade-brigade_worker | 1:N | Назначение рабочих в бригады. Рабочий может работать в разных бригадах в разное время                                                                                             | каскадное удаление brogade_worker                        |
| R7 | brigade_worker-worker  | N:1 | Назначение рабочих в бригады                                                                                                                                                      | каскадное удаление brigade_worker                        |
| R8 | worker-employee        | N:1 | Соответсвие сотрудников к их рабочим квалификациям (один сотрудник может иметь несколько квалификаций)                                                                            | каскадное удаление worker                                |
