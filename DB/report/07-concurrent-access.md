### Пример возникновения аномалии Lost Update при одновременном доступе нескольких пользователей к БД

Потерянное обновление в базе данных может возникнуть, например, если 2 бухгалтера фирмы решат *одновременно* сделать надбавку к зарплате одного из сотрудников, выполнив такой запрос:
```sql
BEGIN;

CREATE TEMP TABLE temp_salary AS
    SELECT salary FROM employee WHERE employee_id = 1;

UPDATE temp_salary SET salary = salary + 100; -- или более сложная логика вычисления надбавки

UPDATE employee e
SET e.salary = t.salary
FROM temp_salary t
WHERE employee_id = 1;

COMMIT;
```

В этом случае в итоговой зарплате могут оказаться не учтены изменения, внесённые одним из бухгалтеров.

Исправить проблему можно используя явную блокировку в первом запросе на чтение зарплаты (`SELECT FOR UPDATE`), или используя уровень изоляции Serializeable.

Также, проблема не возникнет при обновлении данных в одном запросе (`UPDATE employee SET salary = salary + 100`), т.к. PostgreSQL не допускает Lost Update на всех уровнях изооляции транзакций.
